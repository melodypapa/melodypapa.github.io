<section id="title">AutoCore Generic RTE safety application guide</section>

# 1. EB tresos AutoCore 通用 RTE 最佳实践

## 1.1. 引言

本章重点介绍使您能够避免可能违反假定功能安全需求的故障的方法和最佳实践。

此处提供的信息将帮助您：

* 避免错误
* 在发生错误时识别错误

## 1.2. 避免导入器的错误

**Rte** 生成错误的一个常见来源是由于 ARXML 文件丢失、不完整或无效而导致项目数据模型的无效导入。本章就如何避免这些类别的错误提供指导。

### 1.2.1. 解决丢失的工件错误（Resolving missing artifact errors）

在将 **AUTOSAR** 文件导入 **EB tresos Studio** 期间，需验证和解析 **ARXML** 文件中存在的引用。有时，**ARXML** 文件会通过 AUTOSAR 短名称路径，引用项目数据模型或导入的 **ARXML** 文件中不存在的工件（**artifacts**）。

通常，原因是：

* 导入需导入的文件集中不包含 **ARXML** 文件。
* 导入旧版本的 **ARXML** 文件。
* 引用工件的 **AUTOSAR** 路径包含错误。
* **ARXML** 文件引用由 **EB tresos Studio** 生成的平台相关工件。

如果引用的工件不存在于 **EB tresos Studio** 数据模型中或导入器文件集中不存在，**EB tresos Studio** 会记录错误并忽略原始工件。因此，生成的 **Rte** 代码可能不包含所需的 **API** 函数，或者可能会生成应用软件组件不期望的变体。

您可以通过在生成 **Rte** 之前，解决所有导入器错误来避免此类导入器错误。由于导入后的问题视图或错误日志中可能看不到导入器错误，所以您需要定期重新验证导入的数据。

### 1.2.2. 验证 XML 模式

导入 **ARXML** 文件时，**EB tresos Studio** 会验证 **ARXML** 文件的内容是否符合该版本的 **AUTOSAR XML Schema**。如果导入文件的内容不完全符合 **AUTOSAR XML Schema**，则在导入后会记录验证错误和警告。

**XML Schema**验证错误通常发生在以下情况：

* 在 **ARXML** 文件头中设置了错误的 **AUTOSAR** 版本。
* **ARXML** 文件中的元素不完整
* 子元素的定义顺序错误

如果在导入过程中出现 XML 验证问题，导入的数据模型可能会失效。在这种情况下，生成的 **Rte** 可能包含错误，所以所需的数据可能不可用或导致 **Rte** 生成器中的内部错误。

您永远不应该禁用 **XML Schema** 验证。如果出现验证错误或警告，请在生成 **Rte** 之前解决它们。

### 1.2.3. 确保数据模型的一致性

将 **ARXML** 文件导入 **EB tresos Studio** 后，无法跟踪导入的数据模型工件的来源。为了确保源 ARXML 文件与项目的数据模型一致，需要额外的措施。

建议将导入的 **ARXML** 文件和 **EB tresos Studio** 数据模型都置于版本控制之下。对关联的 **ARXML** 文件进行更改时，应立即将文件导入 **EB tresos Studio**。此外，更新后的项目数据模型文件 **SystemModel2.tdb** 应在版本控制系统中更新。

### 1.2.4. 显式导入代码生成器数据模型工件

在 **EB tresos Studio** 中执行的向导（**Wizard**）可以将工件直接生成到项目的数据模型中。如果发生这种情况，则无法监控数据模型的更改。这意味着 E**B tresos Studio** 没有更改内部数据模型的历史记录。但是，向导可以生成 **ARXML** 文件而不是写入内部数据模型。

如果支持，向导（**Wizard**）的输出需能生成为 **ARXML** 文件。该文件应明确导入项目的数据模型。此外，生成的 **ARXML** 文件应添加到项目的版本控制系统中。





