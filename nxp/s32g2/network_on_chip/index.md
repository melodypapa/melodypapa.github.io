<section id="title">Network-on-Chip (NoC)</section>

# 1. 简介

**NoC**是一个互连矩阵，支持各种启动器和目标之间的通信。该芯片上的**NoC**实例支持与系统资源之间的通信，包括：

* 内核集群（**Core clusters**）
* 内核（**Core**）
* 外围设备
* 系统内存（**System RAM**）

加速器子系统中的一个**NoC**实例，支持与该子系统中的模块之间的通信。

# 2. 特征

* 支持各种行业标准套接字协议（主要是 AXI、AHB、APB 和 OCP），以实现主代理和从代理的多功能集成
* 打包以减少路由拥塞
* 细粒度流水线插入以简化时序收敛
* 事务缓冲以维持关键流量路径的带宽
* 速率适配器可降低时钟域交叉对性能的影响
* 可针对特定带宽目标进行调整的高级服务质量
* 支持多通道重新排序缓冲区
* 集成防火墙可避免干扰
* 集成的、符合**Coresight**的调试功能

# 3. 功能说明

## 3.1. 可观察性

有关详细信息，请参见本参考手册调试章节中的“NoC 跟踪”部分。

## 3.2. 服务质量 (QoS)

在 NoC 互连中，**QoS**是在带宽和延迟方面对发起者和目标之间传输的事务的吞吐量和延迟的统计分配。

本节介绍**QoS**机制如何平衡不同发起者的流量访问，以适应互连的有限可用资源。

### 3.2.1. QoS 生成器

**NoC**的**QoS**生成器用于防止发起方套接字降低其他套接字的**QoS**。生成器按功能增加的顺序是：

* 固定模式：为数据包分配固定的紧急级别。
* 限制器模式：达到预定义的带宽阈值时生成流量控制。
* 调节器模式：确保发起者从目标获得所需的带宽。

**QoS**生成器可通过寄存器进行编程。但只能将生成器切换到功能级别较低的操作模式。例如：调节器模式可以被编程为在限制器模式或者固定模式下运行。切换模式后会重置带宽计数器。

#### 3.2.1.1. 固定模式 

固定模式生成器为通过**NIU**的每个数据包分配预定义的紧急级别。对于读取事务和写入事务，此级别可以不同。您可以对分配的紧急程度进行编程。




